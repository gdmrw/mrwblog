<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Spring Boot Software Testing 6 - Static Analyzers | Mr.W's Blog</title>
<meta name=keywords content="Spring Boot,Java,Actuator"><meta name=description content="Static Analyzers Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:
Code Quality: Enhance code readability, maintainability, and efficiency.
Bug Detection: Identify and fix errors early in the development process.
Security: Detect potential security vulnerabilities.
Performance: Highlight inefficient code patterns for optimization. These tools are used throughout the development lifecycle, particularly in:"><meta name=author content="Mr.W"><link rel=canonical href=http://localhost:1313/posts/springboottest6/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.0c29b72807c09f5230c0c62ce30f65195ac1ad1360c84643b40b0e5f08be2e56.css integrity="sha256-DCm3KAfAn1IwwMYs4w9lGVrBrRNgyEZDtAsOXwi+LlY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/springboottest6/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=disabled"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","disabled")}</script><meta property="og:title" content="Spring Boot Software Testing 6 - Static Analyzers"><meta property="og:description" content="Static Analyzers Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:
Code Quality: Enhance code readability, maintainability, and efficiency.
Bug Detection: Identify and fix errors early in the development process.
Security: Detect potential security vulnerabilities.
Performance: Highlight inefficient code patterns for optimization. These tools are used throughout the development lifecycle, particularly in:"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/springboottest6/"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-04T13:00:00+00:00"><meta property="article:modified_time" content="2024-04-04T13:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Spring Boot Software Testing 6 - Static Analyzers"><meta name=twitter:description content="Static Analyzers Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:
Code Quality: Enhance code readability, maintainability, and efficiency.
Bug Detection: Identify and fix errors early in the development process.
Security: Detect potential security vulnerabilities.
Performance: Highlight inefficient code patterns for optimization. These tools are used throughout the development lifecycle, particularly in:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Spring Boot Software Testing 6 - Static Analyzers","item":"http://localhost:1313/posts/springboottest6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Spring Boot Software Testing 6 - Static Analyzers","name":"Spring Boot Software Testing 6 - Static Analyzers","description":"Static Analyzers Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:\nCode Quality: Enhance code readability, maintainability, and efficiency.\nBug Detection: Identify and fix errors early in the development process.\nSecurity: Detect potential security vulnerabilities.\nPerformance: Highlight inefficient code patterns for optimization. These tools are used throughout the development lifecycle, particularly in:","keywords":["Spring Boot","Java","Actuator"],"articleBody":"Static Analyzers Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:\nCode Quality: Enhance code readability, maintainability, and efficiency.\nBug Detection: Identify and fix errors early in the development process.\nSecurity: Detect potential security vulnerabilities.\nPerformance: Highlight inefficient code patterns for optimization. These tools are used throughout the development lifecycle, particularly in:\nDevelopment: Integrated into IDEs, they provide real-time feedback to developers.\nCode Review: Automate the detection of potential issues before peer review.\nContinuous Integration: Included in CI pipelines to enforce code quality standards.\nCompliance: Ensure code adheres to industry-specific standards.\nTools like Checkstyle, PMD, and SonarQube are popular choices, each offering unique features to aid developers in creating robust, efficient, and secure Java applications.\nSpring boot: CheckStyle and PMD Both CheckStyle and PMD are easy to install in IDEA plugin. You can also integrate it inside the dependency through Gradle, I try to add the Spotbugs into Gradle at first, but it does not function and cause horrible issue. Then I give up and turn to CheckStyle and PMD.\nDue to the limitation of the plugin, We use SampleActuatorApplication.java in actuator smoke as a single control group for testing. Here is the result:\nI don’t know why it automatically generates the chinese output, it did convent for me but also make more work for me. You can see in the rules section on the left right corner we use google checks, we have two default configurations, one is call Sun checks, I choose google checks since sun checks generate a more horrible result than Google, but a Google result is not very good either. I’ll talk about it later.\nLet’s take a look at how PMD performance. PMD plugin supports multi file scan, and I ask it to check some test system. And only 10 files generate 67 violations. Its shocking result, but let’s see what really happen.\nLet’s go back to the Check style: On the highlight text it said: ‘method def modifier’ indent 8 and should be 2. The above line says： there is tab in line. Both problem happen in line 36, lets see what line 36 do.\nThis is line 36 in SampleActuatorApplication class, we can see this is a @Bean annotation, which is a spring boot characteristic. It’s clear that the default Checkstyle configuration cannot identify the annotation and treat this as an unexpected indentation. Let’s see how PMP did.\nSimilarly, PMP doesn’t perform very well in default, in line 34, it said it should declare at least one constructor, but actually, spring boot will automatically offer a default constructor when there is no explicit constructor exist.\nHence, both static analyzers may not function well without specific configuration. And nowadays, we did have a very powerful static analyzer call IDEA.\nCheck Overlap Some functions both static analyzers provided are similar, for example, the code style. In PMD, its located in the documentation section and comment size: The document section is ask you to add some comments on the class and constructor, and the comment size will inform you when the comment is too large. I do not see the overlap appear. In summary, the checkStyle is focusing on the formatting only, but the PMD is mainly used to find potential problems in the code, such as complex code that may cause errors, unused parameters or variables, overly complex expressions, etc. It focuses more on the logical and structural quality of the code. However, without targeted configuration, both plugins are far from the level that can be deployed in a production environment.\n","wordCount":"607","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-04-04T13:00:00Z","dateModified":"2024-04-04T13:00:00Z","author":{"@type":"Person","name":"Mr.W"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/springboottest6/"},"publisher":{"@type":"Organization","name":"Mr.W's Blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/archives/ title=Archieves><span>Archieves</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/archive/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Spring Boot Software Testing 6 - Static Analyzers</h1><div class=post-meta><span title='2024-04-04 13:00:00 +0000 UTC'>April 4, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;607 words&nbsp;·&nbsp;Mr.W</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#static-analyzers aria-label="Static Analyzers">Static Analyzers</a></li><li><a href=#spring-boot-checkstyle-and-pmd aria-label="Spring boot: CheckStyle and PMD">Spring boot: CheckStyle and PMD</a><ul><ul><li><a href=#check-overlap aria-label="Check Overlap">Check Overlap</a></li></ul></ul></li></ul></div></details></div><div class=post-content><h1 id=static-analyzers>Static Analyzers<a hidden class=anchor aria-hidden=true href=#static-analyzers>#</a></h1><p>Static analysis tools are essential in software development, focusing on improving code quality, identifying bugs, and ensuring adherence to coding standards without executing the code. They serve multiple purposes:</p><ol><li><p>Code Quality: Enhance code readability, maintainability, and efficiency.</p></li><li><p>Bug Detection: Identify and fix errors early in the development process.</p></li><li><p>Security: Detect potential security vulnerabilities.</p></li><li><p>Performance: Highlight inefficient code patterns for optimization.
These tools are used throughout the development lifecycle, particularly in:</p></li><li><p>Development: Integrated into IDEs, they provide real-time feedback to developers.</p></li><li><p>Code Review: Automate the detection of potential issues before peer review.</p></li><li><p>Continuous Integration: Included in CI pipelines to enforce code quality standards.</p></li><li><p>Compliance: Ensure code adheres to industry-specific standards.</p></li></ol><blockquote><p>Tools like Checkstyle, PMD, and SonarQube are popular choices, each offering unique features to aid developers in creating robust, efficient, and secure Java applications.</p></blockquote><hr><h1 id=spring-boot-checkstyle-and-pmd>Spring boot: CheckStyle and PMD<a hidden class=anchor aria-hidden=true href=#spring-boot-checkstyle-and-pmd>#</a></h1><p>Both CheckStyle and PMD are easy to install in IDEA plugin. You can also integrate it inside the dependency through Gradle, I try to add the Spotbugs into Gradle at first, but it does not function and cause horrible issue. Then I give up and turn to CheckStyle and PMD.</p><p>Due to the limitation of the plugin, We use <code>SampleActuatorApplication.java</code> in actuator smoke as a single control group for testing. Here is the result:</p><p><img loading=lazy src=CS.png alt></p><p>I don&rsquo;t know why it automatically generates the chinese output, it did convent for me but also make more work for me.
You can see in the rules section on the left right corner we use <code>google checks</code>, we have two default configurations, one is call <code>Sun checks</code>, I choose google checks since sun checks generate a more horrible result than Google, but a Google result is not very good either. I&rsquo;ll talk about it later.</p><p>Let&rsquo;s take a look at how PMD performance.
<img loading=lazy src=PMDCount.png alt=CheckStyle></p><p>PMD plugin supports multi file scan, and I ask it to check some test system. And only 10 files generate 67 violations. Its shocking result, but let&rsquo;s see what really happen.</p><p><img loading=lazy src=CS.png alt></p><p>Let&rsquo;s go back to the Check style: On the <code>highlight text</code> it said: &lsquo;method def modifier&rsquo; indent 8 and should be 2. The above line says： there is tab in line. Both problem happen in line 36, lets see what line 36 do.</p><p><img loading=lazy src=CheckStylePrompt.png alt></p><p>This is line 36 in
<code>SampleActuatorApplication</code> class, we can see this is a @Bean annotation, which is a spring boot characteristic. It&rsquo;s clear that the default Checkstyle configuration cannot identify the annotation and treat this as an unexpected indentation.
Let&rsquo;s see how PMP did.</p><p><img loading=lazy src=PMDdetailed.png alt></p><p>Similarly, PMP doesn&rsquo;t perform very well in default, in line 34, it said it should declare at least one constructor, but actually, spring boot will automatically offer a default constructor when there is no explicit constructor exist.</p><p>Hence, both static analyzers may not function well without specific configuration. And nowadays, we did have a very powerful static analyzer call IDEA.</p><h3 id=check-overlap>Check Overlap<a hidden class=anchor aria-hidden=true href=#check-overlap>#</a></h3><p>Some functions both static analyzers provided are similar, for example, the code style. In PMD, its located in the <code>documentation section</code> and <code>comment size</code>:
<img loading=lazy src=PMDdocumentaion.png alt></p><p>The document section is ask you to add some comments on the class and constructor, and the comment size will inform you when the comment is too large. I do not see the overlap appear. In summary, the checkStyle is focusing on the formatting only, but the PMD is mainly used to find potential problems in the code, such as complex code that may cause errors, unused parameters or variables, overly complex expressions, etc. It focuses more on the logical and structural quality of the code. However, without targeted configuration, both plugins are far from the level that can be deployed in a production environment.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/spring-boot/>Spring Boot</a></li><li><a href=http://localhost:1313/tags/java/>Java</a></li><li><a href=http://localhost:1313/tags/actuator/>Actuator</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/aws-3-tier-arch/><span class=title>« Prev</span><br><span>AWS Typical 3 Tier Solution Architecture</span>
</a><a class=next href=http://localhost:1313/posts/springboottest5/><span class=title>Next »</span><br><span>Spring Boot Software Testing 5 - Testable Design and Mocking</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Mr.W's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>